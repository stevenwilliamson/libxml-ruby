<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF8" http-equiv="Content-Type">

<title>class LibXML::XML::Reader - LibXML</title>

<link type="text/css" media="screen" href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../../index.html">Home</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>ext/libxml/libxml.c
    <li>lib/libxml/reader.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="../../Object.html">Object</a>
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-document">::document</a>
    
    <li><a href="#method-c-file">::file</a>
    
    <li><a href="#method-c-io">::io</a>
    
    <li><a href="#method-c-string">::string</a>
    
    <li><a href="#method-i-5B-5D">#[]</a>
    
    <li><a href="#method-i-attribute_count">#attribute_count</a>
    
    <li><a href="#method-i-base_uri">#base_uri</a>
    
    <li><a href="#method-i-byte_consumed">#byte_consumed</a>
    
    <li><a href="#method-i-close">#close</a>
    
    <li><a href="#method-i-column_number">#column_number</a>
    
    <li><a href="#method-i-default-3F">#default?</a>
    
    <li><a href="#method-i-depth">#depth</a>
    
    <li><a href="#method-i-empty_element-3F">#empty_element?</a>
    
    <li><a href="#method-i-encoding">#encoding</a>
    
    <li><a href="#method-i-expand">#expand</a>
    
    <li><a href="#method-i-get_attribute">#get_attribute</a>
    
    <li><a href="#method-i-get_attribute_no">#get_attribute_no</a>
    
    <li><a href="#method-i-get_attribute_ns">#get_attribute_ns</a>
    
    <li><a href="#method-i-has_attributes-3F">#has_attributes?</a>
    
    <li><a href="#method-i-has_value-3F">#has_value?</a>
    
    <li><a href="#method-i-line_number">#line_number</a>
    
    <li><a href="#method-i-local_name">#local_name</a>
    
    <li><a href="#method-i-lookup_namespace">#lookup_namespace</a>
    
    <li><a href="#method-i-move_to_attribute">#move_to_attribute</a>
    
    <li><a href="#method-i-move_to_attribute_no">#move_to_attribute_no</a>
    
    <li><a href="#method-i-move_to_attribute_ns">#move_to_attribute_ns</a>
    
    <li><a href="#method-i-move_to_element">#move_to_element</a>
    
    <li><a href="#method-i-move_to_first_attribute">#move_to_first_attribute</a>
    
    <li><a href="#method-i-move_to_next_attribute">#move_to_next_attribute</a>
    
    <li><a href="#method-i-name">#name</a>
    
    <li><a href="#method-i-namespace_declaration-3F">#namespace_declaration?</a>
    
    <li><a href="#method-i-namespace_uri">#namespace_uri</a>
    
    <li><a href="#method-i-next">#next</a>
    
    <li><a href="#method-i-next_sibling">#next_sibling</a>
    
    <li><a href="#method-i-node">#node</a>
    
    <li><a href="#method-i-node_type">#node_type</a>
    
    <li><a href="#method-i-normalization">#normalization</a>
    
    <li><a href="#method-i-prefix">#prefix</a>
    
    <li><a href="#method-i-quote_char">#quote_char</a>
    
    <li><a href="#method-i-read">#read</a>
    
    <li><a href="#method-i-read_attribute_value">#read_attribute_value</a>
    
    <li><a href="#method-i-read_inner_xml">#read_inner_xml</a>
    
    <li><a href="#method-i-read_outer_xml">#read_outer_xml</a>
    
    <li><a href="#method-i-read_state">#read_state</a>
    
    <li><a href="#method-i-read_string">#read_string</a>
    
    <li><a href="#method-i-relax_ng_validate">#relax_ng_validate</a>
    
    <li><a href="#method-i-reset_error_handler">#reset_error_handler</a>
    
    <li><a href="#method-i-schema_validate">#schema_validate</a>
    
    <li><a href="#method-i-set_error_handler">#set_error_handler</a>
    
    <li><a href="#method-i-standalone">#standalone</a>
    
    <li><a href="#method-i-valid-3F">#valid?</a>
    
    <li><a href="#method-i-value">#value</a>
    
    <li><a href="#method-i-xml_lang">#xml_lang</a>
    
    <li><a href="#method-i-xml_version">#xml_version</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../../HISTORY.html">HISTORY</a>
  
    <li class="file"><a href="../../LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../../README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../../LibXML.html">LibXML</a>
  
    <li><a href="../../LibXML/XML.html">LibXML::XML</a>
  
    <li><a href="../../LibXML/XML/Attr.html">LibXML::XML::Attr</a>
  
    <li><a href="../../LibXML/XML/AttrDecl.html">LibXML::XML::AttrDecl</a>
  
    <li><a href="../../LibXML/XML/Attributes.html">LibXML::XML::Attributes</a>
  
    <li><a href="../../LibXML/XML/Document.html">LibXML::XML::Document</a>
  
    <li><a href="../../LibXML/XML/Dtd.html">LibXML::XML::Dtd</a>
  
    <li><a href="../../LibXML/XML/Encoding.html">LibXML::XML::Encoding</a>
  
    <li><a href="../../LibXML/XML/Error.html">LibXML::XML::Error</a>
  
    <li><a href="../../LibXML/XML/HTMLParser.html">LibXML::XML::HTMLParser</a>
  
    <li><a href="../../LibXML/XML/HTMLParser/Context.html">LibXML::XML::HTMLParser::Context</a>
  
    <li><a href="../../LibXML/XML/HTMLParser/Options.html">LibXML::XML::HTMLParser::Options</a>
  
    <li><a href="../../LibXML/XML/InputCallbacks.html">LibXML::XML::InputCallbacks</a>
  
    <li><a href="../../LibXML/XML/Namespace.html">LibXML::XML::Namespace</a>
  
    <li><a href="../../LibXML/XML/Namespaces.html">LibXML::XML::Namespaces</a>
  
    <li><a href="../../LibXML/XML/Node.html">LibXML::XML::Node</a>
  
    <li><a href="../../LibXML/XML/Parser.html">LibXML::XML::Parser</a>
  
    <li><a href="../../LibXML/XML/Parser/Context.html">LibXML::XML::Parser::Context</a>
  
    <li><a href="../../LibXML/XML/Parser/Options.html">LibXML::XML::Parser::Options</a>
  
    <li><a href="../../LibXML/XML/Reader.html">LibXML::XML::Reader</a>
  
    <li><a href="../../LibXML/XML/RelaxNG.html">LibXML::XML::RelaxNG</a>
  
    <li><a href="../../LibXML/XML/SaxParser.html">LibXML::XML::SaxParser</a>
  
    <li><a href="../../LibXML/XML/SaxParser/Callbacks.html">LibXML::XML::SaxParser::Callbacks</a>
  
    <li><a href="../../LibXML/XML/SaxParser/VerboseCallbacks.html">LibXML::XML::SaxParser::VerboseCallbacks</a>
  
    <li><a href="../../LibXML/XML/Schema.html">LibXML::XML::Schema</a>
  
    <li><a href="../../LibXML/XML/Schema/Attribute.html">LibXML::XML::Schema::Attribute</a>
  
    <li><a href="../../LibXML/XML/Schema/Element.html">LibXML::XML::Schema::Element</a>
  
    <li><a href="../../LibXML/XML/Schema/Facet.html">LibXML::XML::Schema::Facet</a>
  
    <li><a href="../../LibXML/XML/Schema/Namespaces.html">LibXML::XML::Schema::Namespaces</a>
  
    <li><a href="../../LibXML/XML/Schema/Type.html">LibXML::XML::Schema::Type</a>
  
    <li><a href="../../LibXML/XML/Schema/Types.html">LibXML::XML::Schema::Types</a>
  
    <li><a href="../../LibXML/XML/Writer.html">LibXML::XML::Writer</a>
  
    <li><a href="../../LibXML/XML/XInclude.html">LibXML::XML::XInclude</a>
  
    <li><a href="../../LibXML/XML/XPath.html">LibXML::XML::XPath</a>
  
    <li><a href="../../LibXML/XML/XPath/Context.html">LibXML::XML::XPath::Context</a>
  
    <li><a href="../../LibXML/XML/XPath/Expression.html">LibXML::XML::XPath::Expression</a>
  
    <li><a href="../../LibXML/XML/XPath/Object.html">LibXML::XML::XPath::Object</a>
  
    <li><a href="../../LibXML/XML/XPointer.html">LibXML::XML::XPointer</a>
  
    <li><a href="../../Float.html">Float</a>
  
    <li><a href="../../Object.html">Object</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class LibXML::XML::Reader</h1>

  <div id="description" class="description">
    
<p>The <a href="Reader.html">XML::Reader</a> class provides a simpler,
alternative way of parsing an <a href="../XML.html">XML</a> document in
contrast to <a href="Parser.html">XML::Parser</a> or <a
href="SaxParser.html">XML::SaxParser</a>.  A <a
href="Reader.html">XML::Reader</a> instance acts like a cursor going
forward in a document stream, stopping at each node it encounters.  To
advance to the next node, simply cadd <a
href="Reader.html#method-i-read">#read</a>.</p>

<p>The <a href="Reader.html">XML::Reader</a> API closely matches the DOM Core
specification and supports namespaces, xml:base, entity handling and DTDs.</p>

<p>To summarize, <a href="Reader.html">XML::Reader</a> provides a far simpler
API to use versus <a href="SaxParser.html">XML::SaxParser</a> and is more
memory efficient than using <a href="Parser.html">XML::Parser</a> to create
a DOM tree.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">reader</span> = <span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Reader</span>.<span class="ruby-identifier">string</span>(<span class="ruby-string">&quot;&lt;foo&gt;&lt;bar&gt;1&lt;/bar&gt;&lt;bar&gt;2&lt;/bar&gt;&lt;bar&gt;3&lt;/bar&gt;&lt;/foo&gt;&quot;</span>)
<span class="ruby-identifier">reader</span>.<span class="ruby-identifier">read</span>
<span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">'foo'</span>, <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">name</span>)
<span class="ruby-identifier">assert_equal</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">value</span>)

<span class="ruby-value">3</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">read</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Reader</span><span class="ruby-operator">::</span><span class="ruby-constant">TYPE_ELEMENT</span>, <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">node_type</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">'bar'</span>, <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">read</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Reader</span><span class="ruby-operator">::</span><span class="ruby-constant">TYPE_TEXT</span>, <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">node_type</span>)
  <span class="ruby-identifier">assert_equal</span>((<span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">read</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Reader</span><span class="ruby-operator">::</span><span class="ruby-constant">TYPE_END_ELEMENT</span>, <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">node_type</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>You can also parse documents (see <a
href="Reader.html#method-c-document">::document</a>),  strings (see <a
href="Parser.html#method-c-string">LibXML::XML::Parser.string</a>) and io
objects (see <a href="Parser.html#method-c-io">LibXML::XML::Parser.io</a>).</p>

<p>For a more in depth tutorial, albeit in C, see <a
href="http://xmlsoft.org/xmlreader.html.">xmlsoft.org/xmlreader.html.</a></p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <!-- Constants -->
    <section id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt id="DEFAULTATTRS">DEFAULTATTRS
        
        <dd class="description">
        
      
        <dt id="LOADDTD">LOADDTD
        
        <dd class="description"><p>Constants</p>
        
      
        <dt id="MODE_CLOSED">MODE_CLOSED
        
        <dd class="description">
        
      
        <dt id="MODE_EOF">MODE_EOF
        
        <dd class="description">
        
      
        <dt id="MODE_ERROR">MODE_ERROR
        
        <dd class="description">
        
      
        <dt id="MODE_INITIAL">MODE_INITIAL
        
        <dd class="description"><p>Read states</p>
        
      
        <dt id="MODE_INTERACTIVE">MODE_INTERACTIVE
        
        <dd class="description">
        
      
        <dt id="MODE_READING">MODE_READING
        
        <dd class="description">
        
      
        <dt id="SEVERITY_ERROR">SEVERITY_ERROR
        
        <dd class="description">
        
      
        <dt id="SEVERITY_VALIDITY_ERROR">SEVERITY_VALIDITY_ERROR
        
        <dd class="description">
        
      
        <dt id="SEVERITY_VALIDITY_WARNING">SEVERITY_VALIDITY_WARNING
        
        <dd class="description">
        
      
        <dt id="SEVERITY_WARNING">SEVERITY_WARNING
        
        <dd class="description">
        
      
        <dt id="SUBST_ENTITIES">SUBST_ENTITIES
        
        <dd class="description">
        
      
        <dt id="TYPE_ATTRIBUTE">TYPE_ATTRIBUTE
        
        <dd class="description">
        
      
        <dt id="TYPE_CDATA">TYPE_CDATA
        
        <dd class="description">
        
      
        <dt id="TYPE_COMMENT">TYPE_COMMENT
        
        <dd class="description">
        
      
        <dt id="TYPE_DOCUMENT">TYPE_DOCUMENT
        
        <dd class="description">
        
      
        <dt id="TYPE_DOCUMENT_FRAGMENT">TYPE_DOCUMENT_FRAGMENT
        
        <dd class="description">
        
      
        <dt id="TYPE_DOCUMENT_TYPE">TYPE_DOCUMENT_TYPE
        
        <dd class="description">
        
      
        <dt id="TYPE_ELEMENT">TYPE_ELEMENT
        
        <dd class="description">
        
      
        <dt id="TYPE_END_ELEMENT">TYPE_END_ELEMENT
        
        <dd class="description">
        
      
        <dt id="TYPE_END_ENTITY">TYPE_END_ENTITY
        
        <dd class="description">
        
      
        <dt id="TYPE_ENTITY">TYPE_ENTITY
        
        <dd class="description">
        
      
        <dt id="TYPE_ENTITY_REFERENCE">TYPE_ENTITY_REFERENCE
        
        <dd class="description">
        
      
        <dt id="TYPE_NONE">TYPE_NONE
        
        <dd class="description">
        
      
        <dt id="TYPE_NOTATION">TYPE_NOTATION
        
        <dd class="description">
        
      
        <dt id="TYPE_PROCESSING_INSTRUCTION">TYPE_PROCESSING_INSTRUCTION
        
        <dd class="description">
        
      
        <dt id="TYPE_SIGNIFICANT_WHITESPACE">TYPE_SIGNIFICANT_WHITESPACE
        
        <dd class="description">
        
      
        <dt id="TYPE_TEXT">TYPE_TEXT
        
        <dd class="description">
        
      
        <dt id="TYPE_WHITESPACE">TYPE_WHITESPACE
        
        <dd class="description">
        
      
        <dt id="TYPE_XML_DECLARATION">TYPE_XML_DECLARATION
        
        <dd class="description">
        
      
        <dt id="VALIDATE">VALIDATE
        
        <dd class="description">
        
      
      </dl>
    </section>
    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-document" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            XML::Reader.document(doc) &rarr; XML::Reader
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Create an new reader for the specified document.</p>
          

          
          <div class="method-source-code" id="document-source">
            <pre>VALUE rxml_reader_document(VALUE klass, VALUE doc)
{
  xmlDocPtr xdoc;
  xmlTextReaderPtr xreader;

  Data_Get_Struct(doc, xmlDoc, xdoc);

  xreader = xmlReaderWalker(xdoc);

  if (xreader == NULL)
    rxml_raise(&amp;xmlLastError);

  return rxml_reader_wrap(xreader);
}</pre>
          </div><!-- document-source -->
          
        </div>

        

        
      </div><!-- document-method -->

    
      <div id="method-c-file" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            XML::Reader.file(path) &rarr; XML::Reader
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            XML::Reader.file(path, :encoding &rarr; XML::Encoding::UTF_8,
          </span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            :options =&gt; XML::Parser::Options::NOENT) &rarr; XML::Parser
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Creates a new reader by parsing the specified file or uri.</p>

<p>You may provide an optional hash table to control how the parsing is
performed.  Valid options are:</p>

<pre>encoding - The document encoding, defaults to nil. Valid values
           are the encoding constants defined on XML::Encoding.
options - Controls the execution of the parser, defaults to 0.
          Valid values are the constants defined on
          XML::Parser::Options.  Mutliple options can be combined
          by using Bitwise OR (|).</pre>
          

          
          <div class="method-source-code" id="file-source">
            <pre>static VALUE rxml_reader_file(int argc, VALUE *argv, VALUE klass)
{
  xmlTextReaderPtr xreader;
  VALUE path;
  VALUE options;

  const char *xencoding = NULL;
  int xoptions = 0;

  rb_scan_args(argc, argv, &quot;11&quot;, &amp;path, &amp;options);
  Check_Type(path, T_STRING);

  if (!NIL_P(options))
  {
    VALUE encoding = Qnil;
    VALUE parserOptions = Qnil;

    Check_Type(options, T_HASH);

    encoding = rb_hash_aref(options, BASE_URI_SYMBOL);
    xencoding = NIL_P(encoding) ? NULL : xmlGetCharEncodingName(NUM2INT(encoding));

    parserOptions = rb_hash_aref(options, OPTIONS_SYMBOL);
    xoptions = NIL_P(parserOptions) ? 0 : NUM2INT(parserOptions);
  }

  xreader = xmlReaderForFile(StringValueCStr(path), xencoding, xoptions);

  if (xreader == NULL)
    rxml_raise(&amp;xmlLastError);

  return rxml_reader_wrap(xreader);
}</pre>
          </div><!-- file-source -->
          
        </div>

        

        
      </div><!-- file-method -->

    
      <div id="method-c-io" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            XML::Reader.io(io) &rarr; XML::Reader
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            XML::Reader.io(io, :encoding &rarr; XML::Encoding::UTF_8,
          </span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            :options =&gt; XML::Parser::Options::NOENT) &rarr; XML::Parser
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Creates a new reader by parsing the specified io object.</p>

<p>You may provide an optional hash table to control how the parsing is
performed.  Valid options are:</p>

<pre>base_uri - The base url for the parsed document.
encoding - The document encoding, defaults to nil. Valid values
           are the encoding constants defined on XML::Encoding.
options - Controls the execution of the parser, defaults to 0.
          Valid values are the constants defined on
          XML::Parser::Options.  Mutliple options can be combined
          by using Bitwise OR (|).</pre>
          

          
          <div class="method-source-code" id="io-source">
            <pre>static VALUE rxml_reader_io(int argc, VALUE *argv, VALUE klass)
{
  xmlTextReaderPtr xreader;
  VALUE result;
  VALUE io;
  VALUE options;
  char *xbaseurl = NULL;
  const char *xencoding = NULL;
  int xoptions = 0;

  rb_scan_args(argc, argv, &quot;11&quot;, &amp;io, &amp;options);

  if (!NIL_P(options))
  {
    VALUE baseurl = Qnil;
    VALUE encoding = Qnil;
    VALUE parserOptions = Qnil;

    Check_Type(options, T_HASH);

    baseurl = rb_hash_aref(options, BASE_URI_SYMBOL);
    xbaseurl = NIL_P(baseurl) ? NULL : StringValueCStr(baseurl);

    encoding = rb_hash_aref(options, ENCODING_SYMBOL);
    xencoding = NIL_P(encoding) ? NULL : xmlGetCharEncodingName(NUM2INT(encoding));

    parserOptions = rb_hash_aref(options, OPTIONS_SYMBOL);
    xoptions = NIL_P(parserOptions) ? 0 : NUM2INT(parserOptions);
  }
  
  xreader = xmlReaderForIO((xmlInputReadCallback) rxml_read_callback, NULL,
                           (void *) io, 
                           xbaseurl, xencoding, xoptions);

  if (xreader == NULL)
    rxml_raise(&amp;xmlLastError);

  result = rxml_reader_wrap(xreader);

  /* Attach io object to parser so it won't get freed.*/
  rb_ivar_set(result, IO_ATTR, io);

  return result;
}</pre>
          </div><!-- io-source -->
          
        </div>

        

        
      </div><!-- io-method -->

    
      <div id="method-c-string" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            XML::Reader.string(io) &rarr; XML::Reader
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            XML::Reader.string(io, :encoding &rarr; XML::Encoding::UTF_8,
          </span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            :options =&gt; XML::Parser::Options::NOENT) &rarr; XML::Parser
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Creates a new reader by parsing the specified string.</p>

<p>You may provide an optional hash table to control how the parsing is
performed.  Valid options are:</p>

<pre>base_uri - The base url for the parsed document.
encoding - The document encoding, defaults to nil. Valid values
           are the encoding constants defined on XML::Encoding.
options - Controls the execution of the parser, defaults to 0.
          Valid values are the constants defined on
          XML::Parser::Options.  Mutliple options can be combined
          by using Bitwise OR (|).</pre>
          

          
          <div class="method-source-code" id="string-source">
            <pre>static VALUE rxml_reader_string(int argc, VALUE *argv, VALUE klass)
{
  xmlTextReaderPtr xreader;
  VALUE string;
  VALUE options;
  char *xbaseurl = NULL;
  const char *xencoding = NULL;
  int xoptions = 0;

  rb_scan_args(argc, argv, &quot;11&quot;, &amp;string, &amp;options);
  Check_Type(string, T_STRING);

  if (!NIL_P(options))
  {
    VALUE baseurl = Qnil;
    VALUE encoding = Qnil;
    VALUE parserOptions = Qnil;

    Check_Type(options, T_HASH);

    baseurl = rb_hash_aref(options, BASE_URI_SYMBOL);
    xbaseurl = NIL_P(baseurl) ? NULL : StringValueCStr(baseurl);

    encoding = rb_hash_aref(options, ENCODING_SYMBOL);
    xencoding = NIL_P(encoding) ? NULL : xmlGetCharEncodingName(NUM2INT(encoding));
      
    parserOptions = rb_hash_aref(options, OPTIONS_SYMBOL);
    xoptions = NIL_P(parserOptions) ? 0 : NUM2INT(parserOptions);
  }
  
  xreader = xmlReaderForMemory(StringValueCStr(string), RSTRING_LEN(string), 
                               xbaseurl, xencoding, xoptions);

  if (xreader == NULL)
    rxml_raise(&amp;xmlLastError);

  return rxml_reader_wrap(xreader);
}</pre>
          </div><!-- string-source -->
          
        </div>

        

        
      </div><!-- string-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-5B-5D" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            reader[key] &rarr; value
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Provide the value of the attribute with the specified index (if
<code>key</code> is an integer) or with the specified name (if
<code>key</code> is a string) relative to the containing element, as a
string.</p>
          

          
          <div class="method-source-code" id="5B-5D-source">
            <pre>static VALUE rxml_reader_attribute(VALUE self, VALUE key)
{
  VALUE result = Qnil;
  xmlChar *xattr;
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  if (TYPE(key) == T_FIXNUM)
  {
    xattr = xmlTextReaderGetAttributeNo(xReader, FIX2INT(key));
  }
  else
  {
    xattr = xmlTextReaderGetAttribute(xReader, (const xmlChar *) StringValueCStr(key));
  }

  if (xattr)
  {
    result = rxml_new_cstr(xattr, xencoding);
    xmlFree(xattr);
  }
  return result;
}</pre>
          </div><!-- 5B-5D-source -->
          
        </div>

        

        
      </div><!-- 5B-5D-method -->

    
      <div id="method-i-attribute_count" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            attribute_count &rarr; count
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Provide the number of attributes of the current node.</p>
          

          
          <div class="method-source-code" id="attribute_count-source">
            <pre>static VALUE rxml_reader_attr_count(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderAttributeCount(xreader));
}</pre>
          </div><!-- attribute_count-source -->
          
        </div>

        

        
      </div><!-- attribute_count-method -->

    
      <div id="method-i-base_uri" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            base_uri &rarr; URI
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Determine the base URI of the node.</p>
          

          
          <div class="method-source-code" id="base_uri-source">
            <pre>static VALUE rxml_reader_base_uri(VALUE self)
{
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *result = xmlTextReaderConstBaseUri(xReader);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  return (result == NULL ? Qnil : rxml_new_cstr(result, xencoding));
}</pre>
          </div><!-- base_uri-source -->
          
        </div>

        

        
      </div><!-- base_uri-method -->

    
      <div id="method-i-byte_consumed" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            byte_consumed &rarr; value
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>This method provides the current index of the parser used by the reader,
relative to the start of the current entity.</p>
          

          
          <div class="method-source-code" id="byte_consumed-source">
            <pre>static VALUE
rxml_reader_byte_consumed(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2NUM(xmlTextReaderByteConsumed(xreader));
}</pre>
          </div><!-- byte_consumed-source -->
          
        </div>

        

        
      </div><!-- byte_consumed-method -->

    
      <div id="method-i-close" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            close &rarr; code
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>This method releases any resources allocated by the current instance
changes the state to Closed and close any underlying input.</p>
          

          
          <div class="method-source-code" id="close-source">
            <pre>static VALUE rxml_reader_close(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderClose(xreader));
}</pre>
          </div><!-- close-source -->
          
        </div>

        

        
      </div><!-- close-method -->

    
      <div id="method-i-column_number" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            column_number &rarr; number
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Provide the column number of the current parsing point.</p>
          

          
          <div class="method-source-code" id="column_number-source">
            <pre>static VALUE
rxml_reader_column_number(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2NUM(xmlTextReaderGetParserColumnNumber(xreader));
}</pre>
          </div><!-- column_number-source -->
          
        </div>

        

        
      </div><!-- column_number-method -->

    
      <div id="method-i-default-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            default? &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Return whether an Attribute node was generated from the default value
defined in the DTD or schema.</p>
          

          
          <div class="method-source-code" id="default-3F-source">
            <pre>static VALUE rxml_reader_default(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return xmlTextReaderIsDefault(xreader) ? Qtrue : Qfalse;
}</pre>
          </div><!-- default-3F-source -->
          
        </div>

        

        
      </div><!-- default-3F-method -->

    
      <div id="method-i-depth" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            depth &rarr; depth
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get the depth of the node in the tree.</p>
          

          
          <div class="method-source-code" id="depth-source">
            <pre>static VALUE rxml_reader_depth(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderDepth(xreader));
}</pre>
          </div><!-- depth-source -->
          
        </div>

        

        
      </div><!-- depth-method -->

    
      <div id="method-i-empty_element-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            empty_element? &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Check if the current node is empty.</p>
          

          
          <div class="method-source-code" id="empty_element-3F-source">
            <pre>static VALUE rxml_reader_empty_element(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return xmlTextReaderIsEmptyElement(xreader) ? Qtrue : Qfalse;
}</pre>
          </div><!-- empty_element-3F-source -->
          
        </div>

        

        
      </div><!-- empty_element-3F-method -->

    
      <div id="method-i-encoding" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            encoding &rarr; XML::Encoding::UTF_8
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns the encoding of the document being read.  Note you first have to
read data from the reader for encoding to return a value</p>

<pre>reader = XML::Reader.file(XML_FILE)
assert_nil(reader.encoding)
reader.read
assert_equal(XML::Encoding::UTF_8, reader.encoding)</pre>

<p>In addition, libxml always appears to return nil for the encoding when
parsing strings.</p>
          

          
          <div class="method-source-code" id="encoding-source">
            <pre>static VALUE rxml_reader_encoding(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xreader);
  if (xencoding)
    return INT2NUM(xmlParseCharEncoding(xencoding));
  else
    return INT2NUM(XML_CHAR_ENCODING_NONE);
}</pre>
          </div><!-- encoding-source -->
          
        </div>

        

        
      </div><!-- encoding-method -->

    
      <div id="method-i-expand" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            expand &rarr; node
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns the current node and its full subtree. Note the returned node is
valid ONLY until the next read call.</p>
          

          
          <div class="method-source-code" id="expand-source">
            <pre>static VALUE rxml_reader_expand(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  xmlNodePtr xnode = NULL;

  /* At this point we need to wrap the reader's document as explained above. */
  xmlDocPtr xdoc = xmlTextReaderCurrentDoc(xreader);

  if (!xdoc)
    rb_raise(rb_eRuntimeError, &quot;The reader does not have a document.  Did you forget to call read?&quot;);

  rxml_document_wrap(xdoc);

  /* And now hook in a mark function */
  RDATA(self)-&gt;dmark = (RUBY_DATA_FUNC)rxml_reader_mark;

  xnode = xmlTextReaderExpand(xreader);
  
  if (!xnode)
  {
    return Qnil;
  }
  else
  {
    return rxml_node_wrap(xnode);
  }
}</pre>
          </div><!-- expand-source -->
          
        </div>

        

        
      </div><!-- expand-method -->

    
      <div id="method-i-get_attribute" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            get_attribute(localName) &rarr; value
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Provide the value of the attribute with the specified name relative to the
containing element.</p>
          

          
          <div class="method-source-code" id="get_attribute-source">
            <pre>static VALUE rxml_reader_get_attribute(VALUE self, VALUE name)
{
  VALUE result = Qnil;
  xmlChar *xattr;
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  xattr = xmlTextReaderGetAttribute(xReader,
    (const xmlChar *) StringValueCStr(name));
  if (xattr)
  {
    result = rxml_new_cstr(xattr, xencoding);
    xmlFree(xattr);
  }
  return result;
}</pre>
          </div><!-- get_attribute-source -->
          
        </div>

        

        
      </div><!-- get_attribute-method -->

    
      <div id="method-i-get_attribute_no" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            get_attribute_no(index) &rarr; value
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Provide the value of the attribute with the specified index relative to the
containing element.</p>
          

          
          <div class="method-source-code" id="get_attribute_no-source">
            <pre>static VALUE rxml_reader_get_attribute_no(VALUE self, VALUE index)
{
  VALUE result = Qnil;
  xmlChar *xattr;
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  xattr = xmlTextReaderGetAttributeNo(xReader, FIX2INT(index));
  if (xattr)
  {
    result = rxml_new_cstr(xattr, xencoding);
    xmlFree(xattr);
  }
  return result;
}</pre>
          </div><!-- get_attribute_no-source -->
          
        </div>

        

        
      </div><!-- get_attribute_no-method -->

    
      <div id="method-i-get_attribute_ns" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_attribute_ns</span><span
            class="method-args">(p1, p2)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_attribute_ns-source">
            <pre>static VALUE rxml_reader_get_attribute_ns(VALUE self, VALUE name, VALUE ns)
{
  VALUE result = Qnil;
  xmlChar *xattr;
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  xattr = xmlTextReaderGetAttributeNs(xReader,
    (const xmlChar *) StringValueCStr(name),
    (const xmlChar *) StringValueCStr(ns));
  if (xattr)
  {
    result = rxml_new_cstr(xattr, xencoding);
    xmlFree(xattr);
  }
  return result;
}</pre>
          </div><!-- get_attribute_ns-source -->
          
        </div>

        

        
      </div><!-- get_attribute_ns-method -->

    
      <div id="method-i-has_attributes-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            has_attributes? &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get whether the node has attributes.</p>
          

          
          <div class="method-source-code" id="has_attributes-3F-source">
            <pre>static VALUE rxml_reader_has_attributes(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return xmlTextReaderHasAttributes(xreader) ? Qtrue : Qfalse;
}</pre>
          </div><!-- has_attributes-3F-source -->
          
        </div>

        

        
      </div><!-- has_attributes-3F-method -->

    
      <div id="method-i-has_value-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            has_value? &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get whether the node can have a text value.</p>
          

          
          <div class="method-source-code" id="has_value-3F-source">
            <pre>static VALUE rxml_reader_has_value(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return xmlTextReaderHasValue(xreader) ? Qtrue : Qfalse;
}</pre>
          </div><!-- has_value-3F-source -->
          
        </div>

        

        
      </div><!-- has_value-3F-method -->

    
      <div id="method-i-line_number" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            line_number &rarr; number
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Provide the line number of the current parsing point.</p>
          

          
          <div class="method-source-code" id="line_number-source">
            <pre>static VALUE
rxml_reader_line_number(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2NUM(xmlTextReaderGetParserLineNumber(xreader));
}</pre>
          </div><!-- line_number-source -->
          
        </div>

        

        
      </div><!-- line_number-method -->

    
      <div id="method-i-local_name" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            local_name &rarr; name
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Return the local name of the node.</p>
          

          
          <div class="method-source-code" id="local_name-source">
            <pre>static VALUE rxml_reader_local_name(VALUE self)
{
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *result = xmlTextReaderConstLocalName(xReader);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  return (result == NULL ? Qnil : rxml_new_cstr(result, xencoding));
}</pre>
          </div><!-- local_name-source -->
          
        </div>

        

        
      </div><!-- local_name-method -->

    
      <div id="method-i-lookup_namespace" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            lookup_namespace(prefix) &rarr; value
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Resolve a namespace prefix in the scope of the current element. To return
the default namespace, specify nil as <code>prefix</code>.</p>
          

          
          <div class="method-source-code" id="lookup_namespace-source">
            <pre>static VALUE rxml_reader_lookup_namespace(VALUE self, VALUE prefix)
{
  VALUE result = Qnil;
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *xnamespace = xmlTextReaderLookupNamespace(xReader, (const xmlChar *) StringValueCStr(prefix));
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  if (xnamespace)
  {
    result = rxml_new_cstr((const char*)xnamespace, (const char*)xencoding);
    xmlFree((void *)xnamespace);
  }
  return result;
}</pre>
          </div><!-- lookup_namespace-source -->
          
        </div>

        

        
      </div><!-- lookup_namespace-method -->

    
      <div id="method-i-move_to_attribute" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            move_to_attribute(localName) &rarr; code
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Move the position of the current instance to the attribute with the
specified name relative to the containing element.</p>
          

          
          <div class="method-source-code" id="move_to_attribute-source">
            <pre>static VALUE rxml_reader_move_to_attr(VALUE self, VALUE val)
{
  if (TYPE(val) == T_FIXNUM)
  {
    rb_warn(&quot;%s::move_to_attribute with a Fixnum argument is deprecated. &quot;
      &quot;Please, consider move_to_attribute_no method instead.&quot;,
      rb_class2name(cXMLReader));
    return rxml_reader_move_to_attr_no(self, val);
  }
  else
  {
    int ret;
    xmlTextReaderPtr xreader;

    xreader = rxml_text_reader_get(self);
    ret = xmlTextReaderMoveToAttribute(xreader,
        (const xmlChar *) StringValueCStr(val));

    return INT2FIX(ret);
  }
}</pre>
          </div><!-- move_to_attribute-source -->
          
        </div>

        

        
      </div><!-- move_to_attribute-method -->

    
      <div id="method-i-move_to_attribute_no" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            move_to_attribute_no(index) &rarr; code
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Move the position of the current instance to the attribute with the
specified index relative to the containing element.</p>
          

          
          <div class="method-source-code" id="move_to_attribute_no-source">
            <pre>static VALUE rxml_reader_move_to_attr_no(VALUE self, VALUE index)
{
  int ret;
  xmlTextReaderPtr xreader;

  xreader = rxml_text_reader_get(self);
  ret = xmlTextReaderMoveToAttributeNo(xreader, FIX2INT(index));

  return INT2FIX(ret);
}</pre>
          </div><!-- move_to_attribute_no-source -->
          
        </div>

        

        
      </div><!-- move_to_attribute_no-method -->

    
      <div id="method-i-move_to_attribute_ns" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            move_to_attribute_ns(localName, namespaceURI) &rarr; code
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Move the position of the current instance to the attribute with the
specified name and namespace relative to the containing element.</p>
          

          
          <div class="method-source-code" id="move_to_attribute_ns-source">
            <pre>static VALUE rxml_reader_move_to_attr_ns(VALUE self, VALUE name, VALUE ns)
{
  int ret;
  xmlTextReaderPtr xreader;

  xreader = rxml_text_reader_get(self);
  ret = xmlTextReaderMoveToAttributeNs(xreader,
      (const xmlChar *) StringValueCStr(name),
      (const xmlChar *) StringValueCStr(ns));

  return INT2FIX(ret);
}</pre>
          </div><!-- move_to_attribute_ns-source -->
          
        </div>

        

        
      </div><!-- move_to_attribute_ns-method -->

    
      <div id="method-i-move_to_element" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            move_to_element &rarr; code
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Move the position of the current instance to the node that contains the
current attribute node.</p>
          

          
          <div class="method-source-code" id="move_to_element-source">
            <pre>static VALUE rxml_reader_move_to_element(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderMoveToElement(xreader));
}</pre>
          </div><!-- move_to_element-source -->
          
        </div>

        

        
      </div><!-- move_to_element-method -->

    
      <div id="method-i-move_to_first_attribute" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            move_to_first_attribute &rarr; code
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Move the position of the current instance to the first attribute associated
with the current node.</p>
          

          
          <div class="method-source-code" id="move_to_first_attribute-source">
            <pre>static VALUE rxml_reader_move_to_first_attr(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderMoveToFirstAttribute(xreader));
}</pre>
          </div><!-- move_to_first_attribute-source -->
          
        </div>

        

        
      </div><!-- move_to_first_attribute-method -->

    
      <div id="method-i-move_to_next_attribute" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            move_to_next_attribute &rarr; code
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Move the position of the current instance to the next attribute associated
with the current node.</p>
          

          
          <div class="method-source-code" id="move_to_next_attribute-source">
            <pre>static VALUE rxml_reader_move_to_next_attr(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderMoveToNextAttribute(xreader));
}</pre>
          </div><!-- move_to_next_attribute-source -->
          
        </div>

        

        
      </div><!-- move_to_next_attribute-method -->

    
      <div id="method-i-name" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            name &rarr; name
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Return the qualified name of the node.</p>
          

          
          <div class="method-source-code" id="name-source">
            <pre>static VALUE rxml_reader_name(VALUE self)
{
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *result = xmlTextReaderConstName(xReader);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  return (result == NULL ? Qnil : rxml_new_cstr(result, xencoding));
}</pre>
          </div><!-- name-source -->
          
        </div>

        

        
      </div><!-- name-method -->

    
      <div id="method-i-namespace_declaration-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            namespace_declaration? &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Determine whether the current node is a namespace declaration rather than a
regular attribute.</p>
          

          
          <div class="method-source-code" id="namespace_declaration-3F-source">
            <pre>static VALUE rxml_reader_namespace_declaration(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return xmlTextReaderIsNamespaceDecl(xreader) ? Qtrue : Qfalse;
}</pre>
          </div><!-- namespace_declaration-3F-source -->
          
        </div>

        

        
      </div><!-- namespace_declaration-3F-method -->

    
      <div id="method-i-namespace_uri" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            namespace_uri &rarr; URI
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Determine the namespace URI of the node.</p>
          

          
          <div class="method-source-code" id="namespace_uri-source">
            <pre>static VALUE rxml_reader_namespace_uri(VALUE self)
{
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *result = xmlTextReaderConstNamespaceUri(xReader);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  return (result == NULL ? Qnil : rxml_new_cstr(result, xencoding));
}</pre>
          </div><!-- namespace_uri-source -->
          
        </div>

        

        
      </div><!-- namespace_uri-method -->

    
      <div id="method-i-next" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            next &rarr; code
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Skip to the node following the current one in document order while avoiding
the subtree if any.</p>
          

          
          <div class="method-source-code" id="next-source">
            <pre>static VALUE rxml_reader_next(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderNext(xreader));
}</pre>
          </div><!-- next-source -->
          
        </div>

        

        
      </div><!-- next-method -->

    
      <div id="method-i-next_sibling" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            next_sibling &rarr; code
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Skip to the node following the current one in document order while avoiding
the subtree if any. Currently implemented only for Readers built on a
document.</p>
          

          
          <div class="method-source-code" id="next_sibling-source">
            <pre>static VALUE rxml_reader_next_sibling(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderNextSibling(xreader));
}</pre>
          </div><!-- next_sibling-source -->
          
        </div>

        

        
      </div><!-- next_sibling-method -->

    
      <div id="method-i-node" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            node &rarr; XML::Node
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns the reader's current node.  It will return nil if <a
href="Reader.html#method-i-read">#read</a> has not yet been called. WARNING
- Using this method is dangerous because the the node may be destroyed on
the next <a href="Reader.html#method-i-read">read</a>.</p>
          

          
          <div class="method-source-code" id="node-source">
            <pre>static VALUE rxml_reader_node(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  xmlNodePtr xnode = xmlTextReaderCurrentNode(xreader);
  return xnode ? rxml_node_wrap(xnode) : Qnil;
}</pre>
          </div><!-- node-source -->
          
        </div>

        

        
      </div><!-- node-method -->

    
      <div id="method-i-node_type" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            node_type &rarr; type
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get the node type of the current node. Reference: <a
href="http://dotgnu.org/pnetlib-doc/System/Xml/XmlNodeType.html">dotgnu.org/pnetlib-doc/System/Xml/XmlNodeType.html</a></p>
          

          
          <div class="method-source-code" id="node_type-source">
            <pre>static VALUE rxml_reader_node_type(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderNodeType(xreader));
}</pre>
          </div><!-- node_type-source -->
          
        </div>

        

        
      </div><!-- node_type-method -->

    
      <div id="method-i-normalization" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            normalization &rarr; value
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>The value indicating whether to normalize white space and attribute values.
Since attribute value and end of line normalizations are a MUST in the <a
href="../XML.html">XML</a> specification only the value true is accepted.
The broken bahaviour of accepting out of range character entities like
&amp;#0; is of course not supported either.</p>

<p>Return 1 or -1 in case of error.</p>
          

          
          <div class="method-source-code" id="normalization-source">
            <pre>static VALUE rxml_reader_normalization(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderNormalization(xreader));
}</pre>
          </div><!-- normalization-source -->
          
        </div>

        

        
      </div><!-- normalization-method -->

    
      <div id="method-i-prefix" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            prefix &rarr; prefix
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get a shorthand reference to the namespace associated with the node.</p>
          

          
          <div class="method-source-code" id="prefix-source">
            <pre>static VALUE rxml_reader_prefix(VALUE self)
{
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *result = xmlTextReaderConstPrefix(xReader);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  return (result == NULL ? Qnil : rxml_new_cstr(result, xencoding));
}</pre>
          </div><!-- prefix-source -->
          
        </div>

        

        
      </div><!-- prefix-method -->

    
      <div id="method-i-quote_char" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            quote_char &rarr; char
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get the quotation mark character used to enclose the value of an attribute,
as an integer value (and -1 in case of error).</p>
          

          
          <div class="method-source-code" id="quote_char-source">
            <pre>static VALUE rxml_reader_quote_char(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderQuoteChar(xreader));
}</pre>
          </div><!-- quote_char-source -->
          
        </div>

        

        
      </div><!-- quote_char-method -->

    
      <div id="method-i-read" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            read &rarr; nil|true|false
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Causes the reader to move to the next node in the stream, exposing its
properties.</p>

<p>Returns true if a node was successfully read or false if there are no more
nodes to read.  On errors, an exception is raised.</p>
          

          
          <div class="method-source-code" id="read-source">
            <pre>static VALUE rxml_reader_read(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  int result = xmlTextReaderRead(xreader);
  switch(result)
  {
    case -1:
      rxml_raise(&amp;xmlLastError);
      return Qnil;
      break;
    case 0:
      return Qfalse;
    case 1:
      return Qtrue;
    default:
      rb_raise(rb_eRuntimeError,
               &quot;xmlTextReaderRead did not return -1, 0 or 1.  Return value was: %d&quot;, result);
  }
}</pre>
          </div><!-- read-source -->
          
        </div>

        

        
      </div><!-- read-method -->

    
      <div id="method-i-read_attribute_value" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            read_attribute_value &rarr; code
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Parse an attribute value into one or more Text and EntityReference nodes.</p>

<p>Return 1 in case of success, 0 if the reader was not positionned on an
attribute node or all the attribute values have been read, or -1 in case of
error.</p>
          

          
          <div class="method-source-code" id="read_attribute_value-source">
            <pre>static VALUE rxml_reader_read_attr_value(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderReadAttributeValue(xreader));
}</pre>
          </div><!-- read_attribute_value-source -->
          
        </div>

        

        
      </div><!-- read_attribute_value-method -->

    
      <div id="method-i-read_inner_xml" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            read_inner_xml &rarr; data
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Read the contents of the current node, including child nodes and markup.</p>

<p>Return a string containing the <a href="../XML.html">XML</a> content, or
nil if the current node is neither an element nor attribute, or has no
child nodes.</p>
          

          
          <div class="method-source-code" id="read_inner_xml-source">
            <pre>static VALUE rxml_reader_read_inner_xml(VALUE self)
{
  VALUE result = Qnil;
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);

  xmlChar *xml = xmlTextReaderReadInnerXml(xReader);

  if (xml)
  {
    const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);
    result = rxml_new_cstr((const char*) xml, xencoding);
    xmlFree(xml);
  }

  return result;
}</pre>
          </div><!-- read_inner_xml-source -->
          
        </div>

        

        
      </div><!-- read_inner_xml-method -->

    
      <div id="method-i-read_outer_xml" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            read_outer_xml &rarr; data
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Read the contents of the current node, including child nodes and markup.</p>

<p>Return a string containing the <a href="../XML.html">XML</a> content, or
nil if the current node is neither an element nor attribute, or has no
child nodes.</p>
          

          
          <div class="method-source-code" id="read_outer_xml-source">
            <pre>static VALUE rxml_reader_read_outer_xml(VALUE self)
{
  VALUE result = Qnil;
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);

  xmlChar *xml = xmlTextReaderReadOuterXml(xReader);

  if (xml)
  {
    const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);
    result = rxml_new_cstr((const char*) xml, xencoding);
    xmlFree(xml);
  }

  return result;
}</pre>
          </div><!-- read_outer_xml-source -->
          
        </div>

        

        
      </div><!-- read_outer_xml-method -->

    
      <div id="method-i-read_state" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            read_state &rarr; state
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get the read state of the reader.</p>
          

          
          <div class="method-source-code" id="read_state-source">
            <pre>static VALUE rxml_reader_read_state(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderReadState(xreader));
}</pre>
          </div><!-- read_state-source -->
          
        </div>

        

        
      </div><!-- read_state-method -->

    
      <div id="method-i-read_string" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            read_string &rarr; string
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Read the contents of an element or a text node as a string.</p>

<p>Return a string containing the contents of the Element or Text node, or nil
if the reader is positioned on any other type of node.</p>
          

          
          <div class="method-source-code" id="read_string-source">
            <pre>static VALUE rxml_reader_read_string(VALUE self)
{
  VALUE result = Qnil;
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);

  xmlChar *xml = xmlTextReaderReadString(xReader);

  if (xml)
  {
    const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);
    result = rxml_new_cstr((const char*) xml, xencoding);
    xmlFree(xml);
  }

  return result;
}</pre>
          </div><!-- read_string-source -->
          
        </div>

        

        
      </div><!-- read_string-method -->

    
      <div id="method-i-relax_ng_validate" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            relax_ng_validate(rng) &rarr; boolean
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Use <a href="RelaxNG.html">RelaxNG</a> to validate the document as it is
processed. Activation is only possible before the first read. If
<code>rng</code> is nil, the <a href="RelaxNG.html">RelaxNG</a> validation
is desactivated.</p>

<p>Return true in case the <a href="RelaxNG.html">RelaxNG</a> validation could
be (des)activated and false in case of error.</p>
          

          
          <div class="method-source-code" id="relax_ng_validate-source">
            <pre>static VALUE rxml_reader_relax_ng_validate(VALUE self, VALUE rng)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  xmlRelaxNGPtr xrelax;
  int status;
  Data_Get_Struct(rng, xmlRelaxNG, xrelax);
  
  status = xmlTextReaderRelaxNGSetSchema(xreader, xrelax);
  return (status == 0 ? Qtrue : Qfalse);
}</pre>
          </div><!-- relax_ng_validate-source -->
          
        </div>

        

        
      </div><!-- relax_ng_validate-method -->

    
      <div id="method-i-reset_error_handler" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reset_error_handler</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="reset_error_handler-source">
            <pre><span class="ruby-comment"># File lib/libxml/reader.rb, line 5</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reset_error_handler</span>
  <span class="ruby-identifier">warn</span>(<span class="ruby-string">'reset_error_handler is deprecated.  Use Error.reset_handler instead'</span>)
  <span class="ruby-constant">Error</span>.<span class="ruby-identifier">reset_handler</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- reset_error_handler-source -->
          
        </div>

        

        
      </div><!-- reset_error_handler-method -->

    
      <div id="method-i-schema_validate" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            schema_validate(schema) &rarr; boolean
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Use W3C XSD schema to validate the document as it is processed. Activation
is only possible before the first read. If <code>schema</code> is nil, then
<a href="../XML.html">XML</a> <a href="Schema.html">Schema</a> validation
is deactivated.</p>

<p>Return false if if the schema's validation could be (de)activated and true
otherwise.</p>
          

          
          <div class="method-source-code" id="schema_validate-source">
            <pre>static VALUE
rxml_reader_schema_validate(VALUE self, VALUE xsd)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  xmlSchemaPtr xschema;
  int status;

  Data_Get_Struct(xsd, xmlSchema, xschema);
  status = xmlTextReaderSetSchema(xreader, xschema);
  return (status == 0 ? Qtrue : Qfalse);
}</pre>
          </div><!-- schema_validate-source -->
          
        </div>

        

        
      </div><!-- schema_validate-method -->

    
      <div id="method-i-set_error_handler" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_error_handler</span><span
            class="method-args">(&block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="set_error_handler-source">
            <pre><span class="ruby-comment"># File lib/libxml/reader.rb, line 10</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_error_handler</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">warn</span>(<span class="ruby-string">'set_error_handler is deprecated.  Use Error.set_handler instead'</span>)
  <span class="ruby-constant">Error</span>.<span class="ruby-identifier">set_handler</span>(&amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- set_error_handler-source -->
          
        </div>

        

        
      </div><!-- set_error_handler-method -->

    
      <div id="method-i-standalone" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            standalone &rarr; code
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Determine the standalone status of the document being read.</p>

<p>Return 1 if the document was declared to be standalone, 0 if it was
declared to be not standalone, or -1 if the document did not specify its
standalone status or in case of error.</p>
          

          
          <div class="method-source-code" id="standalone-source">
            <pre>static VALUE rxml_reader_standalone(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return INT2FIX(xmlTextReaderStandalone(xreader));
}</pre>
          </div><!-- standalone-source -->
          
        </div>

        

        
      </div><!-- standalone-method -->

    
      <div id="method-i-valid-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            valid? &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Retrieve the validity status from the parser context.</p>
          

          
          <div class="method-source-code" id="valid-3F-source">
            <pre>static VALUE rxml_reader_valid(VALUE self)
{
  xmlTextReaderPtr xreader = rxml_text_reader_get(self);
  return xmlTextReaderIsValid(xreader) ? Qtrue : Qfalse;
}</pre>
          </div><!-- valid-3F-source -->
          
        </div>

        

        
      </div><!-- valid-3F-method -->

    
      <div id="method-i-value" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            value &rarr; text
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Provide the text value of the node if present.</p>
          

          
          <div class="method-source-code" id="value-source">
            <pre>static VALUE rxml_reader_value(VALUE self)
{
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *result = xmlTextReaderConstValue(xReader);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  return (result == NULL ? Qnil : rxml_new_cstr(result, xencoding));
}</pre>
          </div><!-- value-source -->
          
        </div>

        

        
      </div><!-- value-method -->

    
      <div id="method-i-xml_lang" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            xml_lang &rarr; value
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get the xml:lang scope within which the node resides.</p>
          

          
          <div class="method-source-code" id="xml_lang-source">
            <pre>static VALUE rxml_reader_xml_lang(VALUE self)
{
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *result = xmlTextReaderConstXmlLang(xReader);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  return (result == NULL ? Qnil : rxml_new_cstr(result, xencoding));
}</pre>
          </div><!-- xml_lang-source -->
          
        </div>

        

        
      </div><!-- xml_lang-method -->

    
      <div id="method-i-xml_version" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            xml_version &rarr; version
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Determine the <a href="../XML.html">XML</a> version of the document being
read.</p>
          

          
          <div class="method-source-code" id="xml_version-source">
            <pre>static VALUE rxml_reader_xml_version(VALUE self)
{
  xmlTextReaderPtr xReader = rxml_text_reader_get(self);
  const xmlChar *result = xmlTextReaderConstXmlVersion(xReader);
  const xmlChar *xencoding = xmlTextReaderConstEncoding(xReader);

  return (result == NULL ? Qnil : rxml_new_cstr(result, xencoding));
}</pre>
          </div><!-- xml_version-source -->
          
        </div>

        

        
      </div><!-- xml_version-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

